<section class="register" *ngIf="!isSelectingPreferences">
  <div class="container">
    <h3 class="text-white text-center p-4 mb-4 fw-bold">Register</h3>
    <form novalidate [formGroup]="formRegister" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label class="form-label text-white fw-bold">* Email</label>
        <input type="text" class="form-control" placeholder="Introduce your email" formControlName="email" autocomplete="off">
      </div>
      
      <div class="mb-3">
        <label class="form-label text-white fw-bold">* Password</label>
        <input type="password" class="form-control" placeholder="Introduce your password" formControlName="password" autocomplete="off">
      </div>

      <div class="d-flex justify-content-center mb-3">
        <button type="submit" class="btn btn-success fw-bold">Register</button>
      </div>

      <div class="text-center mt-3">
        <span class="text-danger" *ngIf="registerError">{{ registerError }}</span>
      </div>
    </form>
  </div>
</section>

<!-- Preferences Selection Section -->
<section class="preferences" *ngIf="isSelectingPreferences">
  <div class="container">
    <h3 class="text-white text-center p-4 mb-4 fw-bold">Choose Your Favorites</h3>

    <div class="mb-3">
      <label class="form-label text-white fw-bold">Select 2 Genres:</label>
      <div class="d-flex flex-wrap">
        <button 
          *ngFor="let genre of availableGenres" 
          class="btn btn-outline-light me-2 mb-2" 
          [class.active]="selectedGenres.includes(genre)"
          (click)="toggleSelection(genre, 'genre')"
        >
          {{ genre }}
        </button>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label text-white fw-bold">Select 2 Actors:</label>
      <div class="d-flex flex-wrap">
        <button 
          *ngFor="let actor of availableActors" 
          class="btn btn-outline-light me-2 mb-2" 
          [class.active]="selectedActors.includes(actor)"
          (click)="toggleSelection(actor, 'actor')"
        >
          {{ actor }}
        </button>
      </div>
    </div>

    <div class="d-flex justify-content-center mb-3">
      <button type="button" class="btn btn-success fw-bold" (click)="savePreferences()">Save Preferences</button>
    </div>

    <div class="text-center mt-3">
      <span class="text-danger" *ngIf="registerError">{{ registerError }}</span>
    </div>
  </div>
</section>
